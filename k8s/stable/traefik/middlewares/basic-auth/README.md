# Traefik Basic Auth Middleware

This middleware adds basic authentication to a service.

- [Documentation](https://doc.traefik.io/traefik/middlewares/http/basicauth/)

## Prerequisites

- [Traefik](./../README.md)
- A secret containing the basic auth credentials

  ```yaml
  apiVersion: v1
  kind: Secret
  metadata:
    name: authsecret
    namespace: default
  data:
    users: |
      <base64-encoded-user-password-pair>
  ```

> [!NOTE]
> In a kubernetes secret the string (e.g. generated by htpasswd) must be base64-encoded first.
> To create a secure base64-encoded user:password pair, the following command can be used:
> `htpasswd -nb <user> <password> | openssl base64`

## Usage

1. Deploy the Traefik Basic Auth Middleware as instructed in [README > Usage](../../../../../README.md#usage), where its path is `stable/traefik/middlewares/basic-auth`.
   | Variable | Description | Default | Required |
   | ------------------------- | ------------------------------------------------------------ | :-----: | :------: |
   | traefik_basic_auth_secret | The name of the secret containing the basic auth credentials | "" | ✓ |
2. Add the middleware to your routes that need basic authentication.
3. Voilà! Your services are now protected by basic authentication.
